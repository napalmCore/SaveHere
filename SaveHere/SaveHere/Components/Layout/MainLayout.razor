@inherits LayoutComponentBase

<MudThemeProvider @bind-IsDarkMode="@_isDarkMode" />

<MudLayout>

  <MudAppBar Elevation="1" Dense="true">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@DrawerToggle" />
    <MudText Typo="Typo.h5" Class="mx-auto hover-link" Color="Color.Inherit" onclick="@NavigateToHome">SaveHere</MudText>
    <MudToggleIconButton @bind-Toggled="_isDarkMode" Icon="@Icons.Material.Filled.LightMode" Color="@Color.Inherit" ToggledIcon="@Icons.Material.Filled.DarkMode" ToggledColor="@Color.Inherit"/>
    <MudIconButton Icon="@Icons.Material.Filled.AccountCircle" Color="Color.Inherit" Href="#" Target="_blank" Edge="Edge.End"/>
  </MudAppBar>

  <MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="10">
    <NavMenu />
  </MudDrawer>

  <MudMainContent>
    @Body
  </MudMainContent>

</MudLayout>

<div id="blazor-error-ui">
  An unhandled error has occurred.
  <a href="" class="reload">Reload</a>
  <a class="dismiss">🗙</a>
</div>

<style>
  .hover-link {
    cursor: pointer;
    transition: all 0.2s ease-in-out;
  }

    .hover-link:hover {
      text-shadow: 0px 2px 5px rgba(0,0,0,0.3);
      color: var(--mud-palette-primary);
    }
</style>

@code {
  private bool _isDarkMode = true;
  private bool _drawerOpen = true;

  [Inject] private NavigationManager Navigation { get; set; } = default!;

  private void DrawerToggle()
  {
    _drawerOpen = !_drawerOpen;
  }

  private void NavigateToHome()
  {
    Navigation.NavigateTo("/");
  }

}